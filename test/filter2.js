let obj = {
  drink_ingredient: [
    { id: 13938, ingredients_id_list: [8, 2, 497] },
    { id: 17839, ingredients_id_list: [473, 352, 155, 127] },
    { id: 15266, ingredients_id_list: [1, 399, 28, 293, 300] },
    { id: 17835, ingredients_id_list: [179, 378, 352] },
    { id: 15182, ingredients_id_list: [1, 163, 352] },
    { id: 12560, ingredients_id_list: [250, 352, 393] },
    { id: 12572, ingredients_id_list: [393, 372, 293, 250] },
    { id: 178311, ingredients_id_list: [571, 5, 56, 530, 270] },
    { id: 16986, ingredients_id_list: [458, 498, 312, 457] },
    { id: 17267, ingredients_id_list: [3, 179, 44, 250, 393, 352, 480] },
    { id: 14608, ingredients_id_list: [464, 228] },
    { id: 13751, ingredients_id_list: [179, 312, 128, 270] },
    { id: 11288, ingredients_id_list: [305, 312, 128] },
    { id: 17135, ingredients_id_list: [39, 128] },
    { id: 11242, ingredients_id_list: [305, 406, 299, 409, 192, 89] },
    { id: 11320, ingredients_id_list: [2, 228, 312] },
    { id: 12672, ingredients_id_list: [533, 220] },
    { id: 17211, ingredients_id_list: [179, 229] },
    { id: 17177, ingredients_id_list: [181, 312, 81] },
    { id: 11338, ingredients_id_list: [74, 2, 482, 89, 294] },
    { id: 12768, ingredients_id_list: [139, 333, 476] },
    { id: 178344, ingredients_id_list: [1, 260, 609, 610, 20, 497] },
    { id: 12674, ingredients_id_list: [533, 47, 352, 222, 270] },
    { id: 12670, ingredients_id_list: [28, 470, 476, 299, 30, 455, 270] },
    { id: 11410, ingredients_id_list: [2, 299, 409, 89] },
    { id: 178365, ingredients_id_list: [2, 497, 294, 270] },
    { id: 178366, ingredients_id_list: [2, 293, 294, 270] },
    { id: 17230, ingredients_id_list: [2, 250, 299, 455, 312] },
    { id: 11418, ingredients_id_list: [2, 250, 409, 397, 470, 89] },
    { id: 11419, ingredients_id_list: [308, 476, 2, 56, 127] },
    { id: 178342, ingredients_id_list: [2, 455, 312] },
    { id: 17202, ingredients_id_list: [294, 74, 228, 56] },
    { id: 12766, ingredients_id_list: [464, 228, 312, 270] },
    { id: 11524, ingredients_id_list: [305, 66, 299, 409, 89] },
    { id: 17015, ingredients_id_list: [1, 282, 128, 254] },
    { id: 16987, ingredients_id_list: [43, 71, 1, 352] },
    { id: 11558, ingredients_id_list: [66, 299, 409, 406, 192, 89] },
    { id: 12688, ingredients_id_list: [333, 115, 336] },
    { id: 12764, ingredients_id_list: [139, 237] },
    { id: 14752, ingredients_id_list: [285, 55, 270] },
    { id: 15026, ingredients_id_list: [157, 25, 444, 28, 270] },
    { id: 12714, ingredients_id_list: [286, 366] },
    { id: 12720, ingredients_id_list: [230, 299, 513] },
    { id: 12704, ingredients_id_list: [312, 476, 455, 310] },
    { id: 13196, ingredients_id_list: [1, 312, 20, 497, 270] },
    { id: 12692, ingredients_id_list: [533, 513, 439, 36] },
    { id: 12694, ingredients_id_list: [533, 270, 476, 312, 439] },
    { id: 12702, ingredients_id_list: [230, 513, 299, 476, 93] },
    { id: 12698, ingredients_id_list: [319, 533, 476, 513] },
    { id: 12696, ingredients_id_list: [533, 513, 476, 439, 293] },
    { id: 11002, ingredients_id_list: [1, 305, 2, 4, 299, 128] },
    { id: 178335, ingredients_id_list: [133, 242, 455] },
    { id: 17204, ingredients_id_list: [1, 4, 305, 2, 128, 294] },
    { id: 178360, ingredients_id_list: [552, 1, 455, 217] },
    { id: 12690, ingredients_id_list: [533, 513, 173, 439, 337] },
    { id: 11000, ingredients_id_list: [305, 312, 476, 337, 455] },
    { id: 178315, ingredients_id_list: [2, 308, 229, 171, 299] },
    { id: 16031, ingredients_id_list: [52, 572] },
    { id: 13861, ingredients_id_list: [43, 212, 333] },
    { id: 12618, ingredients_id_list: [293, 352, 475, 455] },
    { id: 11870, ingredients_id_list: [100, 2, 352, 228] },
    { id: 178341, ingredients_id_list: [2, 352, 293, 608, 455, 549, 354] },
    { id: 13200, ingredients_id_list: [600, 52, 300, 270] },
    { id: 13072, ingredients_id_list: [1, 105, 155, 352] },
    { id: 178368, ingredients_id_list: [179, 352, 393, 250, 475, 20] },
    { id: 12718, ingredients_id_list: [230, 397] },
    { id: 15761, ingredients_id_list: [59, 352] },
    { id: 17114, ingredients_id_list: [2, 155, 250] },
    { id: 12630, ingredients_id_list: [475, 293, 228] },
    { id: 178367, ingredients_id_list: [2, 293, 475, 161, 192, 502, 455] },
    { id: 12057, ingredients_id_list: [2, 299, 409, 194, 89] },
    { id: 12091, ingredients_id_list: [305, 352] },
    { id: 17167, ingredients_id_list: [419, 297, 270] },
    { id: 17214, ingredients_id_list: [1, 165, 475, 293] },
    { id: 14195, ingredients_id_list: [9, 300, 299, 270] },
    { id: 12107, ingredients_id_list: [242, 2, 439] },
    { id: 13377, ingredients_id_list: [1, 155, 242] },
    { id: 16990, ingredients_id_list: [232, 333] },
    { id: 12162, ingredients_id_list: [1, 352] },
    { id: 15184, ingredients_id_list: [1, 163, 250, 352] },
    { id: 15226, ingredients_id_list: [571, 315, 393, 352, 250, 99] },
    { id: 12724, ingredients_id_list: [333, 47, 260] },
    { id: 12782, ingredients_id_list: [139, 147, 90, 476, 516, 270] },
    { id: 12726, ingredients_id_list: [492, 293, 94] },
    { id: 12786, ingredients_id_list: [486, 513, 145, 270, 337] },
    { id: 13621, ingredients_id_list: [4, 352, 250] },
    { id: 12784, ingredients_id_list: [139, 476, 161, 90] },
    { id: 15178, ingredients_id_list: [534, 100, 458, 480] },
    { id: 178363, ingredients_id_list: [1, 293, 294, 270] },
    { id: 178362, ingredients_id_list: [466, 308, 1] },
    { id: 178364, ingredients_id_list: [1, 497, 294] },
    { id: 12442, ingredients_id_list: [189, 165, 89] },
    { id: 12460, ingredients_id_list: [1, 497] },
    { id: 178347, ingredients_id_list: [4, 83, 308, 352, 608, 439] },
    { id: 178348, ingredients_id_list: [4, 242, 308, 12, 386] },
    { id: 12728, ingredients_id_list: [533, 222, 270] },
    { id: 14888, ingredients_id_list: [382, 478] },
  ],
  available_ingredient_list: [
    455, 294, 71, 229, 52, 552, 382, 378, 386, 406, 192, 299, 513, 237, 473,
    337, 115, 399, 59, 475, 127, 470, 482, 282, 478, 173, 44, 502, 189, 161,
    286, 43, 147, 480, 9, 419, 610, 457, 81, 232, 409, 30, 3, 212, 310, 28, 242,
    5, 171, 315, 366, 165, 397, 56, 74, 305, 179, 4, 297, 181, 83, 466, 333, 90,
    105, 516, 571, 444, 220, 39, 163, 93, 89, 352, 36, 393, 285, 464, 312, 66,
    498, 497, 155, 533, 300, 133, 608, 609, 458, 2, 372, 128, 194, 600, 99, 476,
    492, 534, 439, 157, 572, 230, 336, 222, 260, 308, 100, 354, 139, 12, 254,
    293, 217, 25, 94, 250, 47, 20, 319, 530, 1, 549, 145, 55, 270, 486, 228, 8,
  ],
};

const includeAll = (array,sub_array)=>{
  return sub_array.every(item=>array.includes(item));
}

const removeIng =((availableIngredients,ing_array)=>{
  ing_array.every(item=>{
    availableIngredients.splice(availableIngredients.indexOf(item),1);
  })
})

const filter2 = (obj,ing_array)=>{
  const lastIngredientsList = [...obj.available_ingredient_list];
  const availableDrink = obj.drink_ingredient.reduce((acc,cur)=>{
     return(includeAll(cur.ingredients_id_list,ing_array)?[...acc,cur]:acc)
  },[]
  );

  const availableIngredients = availableDrink.reduce((accs,curs)=>{
    curs.ingredients_id_list.forEach(it=>{
      (accs.includes(it))?null:(lastIngredientsList.includes(it)?accs=[...accs,it]:null);
    })
    return accs; 
   },[])
   
   const availableIngredientsAfter=availableIngredients.filter(item=>!ing_array.includes(item));

   let result = {};
   result['drink_ingredient']=[...availableDrink];
   result['available_ingredient_list']=[...availableIngredientsAfter];

    console.log("available drink--->",result.drink_ingredient);
    console.log("available ingredients--->",result.available_ingredient_list);
  // console.log("new length of drink: ", result.drink_ingredient.length, "new length of ing: ",result.available_ingredient_list.length);

}

//filter2(obj,[2]);
filter2(obj,[270,2,497,294]);
// filter(result,89,result.available_ingredient_list)

